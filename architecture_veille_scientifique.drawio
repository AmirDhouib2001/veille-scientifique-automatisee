<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" version="28.2.5">
  <diagram name="Architecture" id="arch">
    <mxGraphModel dx="1360" dy="793" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2800" pageHeight="2200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="ARCHITECTURE : VEILLE SCIENTIFIQUE AUTOMATISEE (avec MCP)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontColor=#1a237e;" parent="1" vertex="1">
          <mxGeometry x="300" y="40" width="1100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="docker-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=3;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="120" width="1400" height="280" as="geometry" />
        </mxCell>
        <mxCell id="docker-label" value="INFRASTRUCTURE DOCKER-COMPOSE" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#01579b;" parent="1" vertex="1">
          <mxGeometry x="100" y="130" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="postgres" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="120" y="180" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="pg-title" value="Conteneur: veille_postgres" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#2e7d32;" parent="1" vertex="1">
          <mxGeometry x="120" y="190" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pg-info" value="Image: pgvector/pgvector:pg16&#xa;Port: 5432&#xa;Database: veille_scientifique&#xa;User: veille_user&#xa;Extension: pgvector&#xa;Volume: postgres_data" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="140" y="230" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="app" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="440" y="180" width="1000" height="180" as="geometry" />
        </mxCell>
        <mxCell id="app-title" value="Conteneur: veille_app" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#e65100;" parent="1" vertex="1">
          <mxGeometry x="440" y="190" width="1000" height="30" as="geometry" />
        </mxCell>
        <mxCell id="app-info" value="Build: Dockerfile (Python 3.11)&#xa;Port: 8501 (Streamlit)&#xa;ENV: OPENAI_API_KEY (OpenRouter)&#xa;ENV: OPENAI_MODEL (Grok 4.1 Fast)&#xa;Volume: ./reports:/app/reports" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="460" y="230" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="streamlit" value="Streamlit UI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1976d2;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="800" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="crewai" value="CrewAI Agents" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c5cae9;strokeColor=#5e35b1;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rag" value="RAG Tool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8bbd0;strokeColor=#c2185b;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1080" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pdf" value="PDF Generator" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dcedc8;strokeColor=#689f38;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1220" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="conn" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#1976d2;curved=1;" parent="1" source="postgres" target="app" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="270" as="sourcePoint" />
            <mxPoint x="450" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wf-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#f57c00;strokeWidth=3;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="450" width="1400" height="220" as="geometry" />
        </mxCell>
        <mxCell id="wf-label" value="WORKFLOW UTILISATEUR" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#f57c00;" parent="1" vertex="1">
          <mxGeometry x="100" y="460" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="step1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="120" y="510" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="s1-title" value="1. Saisie Mot-cle" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="520" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="s1-info" value="Interface Streamlit&#xa;&#xa;Mot-cle saisi&#xa;Nombre articles (3-20)" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="130" y="555" width="160" height="75" as="geometry" />
        </mxCell>
        <mxCell id="step2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="330" y="510" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="s2-title" value="2. Recherche arXiv" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="520" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="s2-info" value="API arXiv&#xa;&#xa;Requete HTTP&#xa;Tri par date&#xa;10 articles" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="340" y="555" width="160" height="75" as="geometry" />
        </mxCell>
        <mxCell id="step3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#6a1b9a;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="540" y="510" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="s3-title" value="3. Vectorisation RAG" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="540" y="520" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="s3-info" value="Embeddings OpenAI&#xa;&#xa;Vecteurs 1536D&#xa;Stockage PostgreSQL&#xa;Index vectoriel" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="550" y="555" width="160" height="75" as="geometry" />
        </mxCell>
        <mxCell id="step4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="750" y="510" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="s4-title" value="4. Resumes Agents" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="750" y="520" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="s4-info" value="CrewAI + Grok 4.1&#xa;&#xa;10 resumes articles&#xa;1 resume rapide&#xa;1 synthese globale" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="760" y="555" width="160" height="75" as="geometry" />
        </mxCell>
        <mxCell id="step5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#f9a825;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="960" y="510" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="s5-title" value="5. Generation PDF" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="520" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="s5-info" value="ReportLab&#xa;&#xa;Page de garde&#xa;Synthese globale&#xa;Resumes + Sources" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="970" y="555" width="160" height="75" as="geometry" />
        </mxCell>
        <mxCell id="step6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1170" y="510" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="s6-title" value="6. Telechargement" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1170" y="520" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="s6-info" value="Fichier PDF&#xa;&#xa;Rapport complet&#xa;Telechargeable&#xa;via Streamlit" style="text;html=1;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1180" y="555" width="160" height="75" as="geometry" />
        </mxCell>
        <mxCell id="f1" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#43a047;" parent="1" source="step1" target="step2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="575" as="sourcePoint" />
            <mxPoint x="360" y="525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#43a047;" parent="1" source="step2" target="step3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="575" as="sourcePoint" />
            <mxPoint x="570" y="525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#43a047;" parent="1" source="step3" target="step4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="730" y="575" as="sourcePoint" />
            <mxPoint x="780" y="525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f4" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#43a047;" parent="1" source="step4" target="step5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="575" as="sourcePoint" />
            <mxPoint x="990" y="525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f5" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#43a047;" parent="1" source="step5" target="step6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1150" y="575" as="sourcePoint" />
            <mxPoint x="1200" y="525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ag-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ede7f6;strokeColor=#5e35b1;strokeWidth=3;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="720" width="1400" height="300" as="geometry" />
        </mxCell>
        <mxCell id="ag-label" value="AGENTS CREWAI : WORKFLOW DETAILLE" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#5e35b1;" parent="1" vertex="1">
          <mxGeometry x="100" y="730" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ag1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="120" y="780" width="240" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ag1-title" value="PHASE 1: COLLECTION (MCP)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#c8e6c9;" parent="1" vertex="1">
          <mxGeometry x="120" y="780" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ag1-note" value="SERVEUR MCP arXiv" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontColor=#01579b;" parent="1" vertex="1">
          <mxGeometry x="130" y="815" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ag1-info" value="1. Client MCP lance serveur&#xa;2. Requete JSON-RPC (stdio)&#xa;3. Serveur appelle arXiv API&#xa;4. Retour resultats JSON&#xa;5. Extraction metadonnees&#xa;6. Generation embeddings&#xa;7. Stockage PostgreSQL&#xa;&#xa;Duree: 15-20 secondes" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="130" y="845" width="220" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ag2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="390" y="780" width="240" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ag2-title" value="PHASE 2: SUMMARIZER" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#bbdefb;" parent="1" vertex="1">
          <mxGeometry x="390" y="780" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ag2-note" value="AGENT LLM Grok 4.1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1;fillColor=#e3f2fd;strokeColor=#1565c0;fontColor=#0d47a1;" parent="1" vertex="1">
          <mxGeometry x="400" y="815" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ag2-info" value="Pour CHAQUE article (10x):&#xa;1. Recuperation contexte RAG&#xa;2. Creation prompt LLM&#xa;3. Appel Grok 4.1 Fast&#xa;&#xa;10 appels LLM&#xa;Duree: 30-60 secondes" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="400" y="845" width="220" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ag2b" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#f9a825;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="660" y="780" width="240" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ag2b-title" value="PHASE 2B: RESUME RAPIDE" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#fff59d;" parent="1" vertex="1">
          <mxGeometry x="660" y="780" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ag2b-note" value="AGENT SUMMARIZER" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1;fillColor=#fff9c4;strokeColor=#f9a825;fontColor=#f57f17;" parent="1" vertex="1">
          <mxGeometry x="670" y="815" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ag2b-info" value="1. Utilise 3 premiers articles&#xa;2. Prompt ultra-concis&#xa;3. Appel Grok 4.1 Fast&#xa;&#xa;Objectif: Affichage immediat&#xa;1 appel LLM&#xa;Duree: 3-5 secondes" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="670" y="845" width="220" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ag3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="930" y="780" width="240" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ag3-title" value="PHASE 3: SYNTHESIZER" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#f8bbd0;" parent="1" vertex="1">
          <mxGeometry x="930" y="780" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ag3-note" value="AGENT LLM Grok 4.1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1;fillColor=#fce4ec;strokeColor=#c2185b;fontColor=#880e4f;" parent="1" vertex="1">
          <mxGeometry x="940" y="815" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ag3-info" value="1. Collecte TOUS les resumes&#xa;2. Analyse globale&#xa;3. Appel Grok 4.1 Fast&#xa;&#xa;Synthese complete&#xa;1 appel LLM&#xa;Duree: 10-15 secondes" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="940" y="845" width="220" height="125" as="geometry" />
        </mxCell>
        <mxCell id="ag4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dcedc8;strokeColor=#689f38;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1200" y="780" width="180" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ag4-title" value="PDF GENERATOR" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#c5e1a5;" parent="1" vertex="1">
          <mxGeometry x="1200" y="780" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ag4-note" value="ReportLab" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1;fillColor=#dcedc8;strokeColor=#689f38;fontColor=#33691e;" parent="1" vertex="1">
          <mxGeometry x="1210" y="815" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ag4-info" value="Sections:&#xa;1. Page de garde&#xa;2. Synthese globale&#xa;3. Resumes individuels&#xa;4. Sources arXiv&#xa;&#xa;Duree: 2-5 secondes" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1210" y="845" width="160" height="125" as="geometry" />
        </mxCell>
        <mxCell id="fa1" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#d32f2f;" parent="1" source="ag1" target="ag2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="880" as="sourcePoint" />
            <mxPoint x="420" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fa2" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#d32f2f;" parent="1" source="ag2" target="ag2b" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="640" y="880" as="sourcePoint" />
            <mxPoint x="690" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fa3" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#d32f2f;" parent="1" source="ag2b" target="ag3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="910" y="880" as="sourcePoint" />
            <mxPoint x="960" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fa4" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#d32f2f;" parent="1" source="ag3" target="ag4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1180" y="880" as="sourcePoint" />
            <mxPoint x="1230" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="st-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffde7;strokeColor=#f57f17;strokeWidth=3;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="1070" width="1400" height="360" as="geometry" />
        </mxCell>
        <mxCell id="st-label" value="STATISTIQUES ET METRIQUES" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#f57f17;" parent="1" vertex="1">
          <mxGeometry x="100" y="1080" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="st1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="120" y="1130" width="320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="st1-title" value="APPELS API (10 articles)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#c8e6c9;" parent="1" vertex="1">
          <mxGeometry x="120" y="1130" width="320" height="25" as="geometry" />
        </mxCell>
        <mxCell id="st1-info" value="OpenRouter Grok 4.1:&#xa;- Resumes individuels: 10 appels&#xa;- Resume rapide: 1 appel&#xa;- Synthese globale: 1 appel&#xa;Total LLM: 12 appels&#xa;&#xa;Embeddings: 20 appels&#xa;arXiv API: 1 appel" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="130" y="1160" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="st2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="470" y="1130" width="320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="st2-title" value="TEMPS EXECUTION" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#b3e5fc;" parent="1" vertex="1">
          <mxGeometry x="470" y="1130" width="320" height="25" as="geometry" />
        </mxCell>
        <mxCell id="st2-info" value="Phase 1 (Collection): 15-20s&#xa;Phase 2 (Resumes): 35-65s&#xa;Phase 3 (Synthese): 10-15s&#xa;Phase 4 (PDF): 2-5s&#xa;&#xa;TOTAL: 1-2 minutes" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="1160" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="st3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#6a1b9a;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="820" y="1130" width="320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="st3-title" value="STACK TECHNIQUE" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#e1bee7;" parent="1" vertex="1">
          <mxGeometry x="820" y="1130" width="320" height="25" as="geometry" />
        </mxCell>
        <mxCell id="st3-info" value="Infrastructure: Docker Compose&#xa;Langage: Python 3.11&#xa;Interface: Streamlit&#xa;Agents: CrewAI&#xa;LLM: OpenRouter Grok 4.1 Fast&#xa;Base de donnees: PostgreSQL 16&#xa;Vecteurs: pgvector&#xa;PDF: ReportLab" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="830" y="1160" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="st4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1170" y="1130" width="290" height="140" as="geometry" />
        </mxCell>
        <mxCell id="st4-title" value="FICHIERS PRINCIPAUX" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#f8bbd0;" parent="1" vertex="1">
          <mxGeometry x="1170" y="1130" width="290" height="25" as="geometry" />
        </mxCell>
        <mxCell id="st4-info" value="docker-compose.yml&#xa;Dockerfile&#xa;app.py (Streamlit)&#xa;agents.py (CrewAI)&#xa;tools/arxiv_tool.py&#xa;tools/rag_tool.py&#xa;tools/database.py&#xa;tools/pdf_generator.py" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1180" y="1160" width="270" height="100" as="geometry" />
        </mxCell>
        <mxCell id="rag-detail" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e0f2f1;strokeColor=#00695c;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="120" y="1300" width="1340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="rag-title" value="RAG WORKFLOW" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fillColor=#b2dfdb;" parent="1" vertex="1">
          <mxGeometry x="120" y="1300" width="1340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="rag-steps" value="1. CREATION EMBEDDINGS: Concatenation titre+resume -&gt; API OpenRouter (text-embedding-3-small) -&gt; Vecteur 1536D -&gt; Stockage PostgreSQL&#xa;&#xa;2. RECHERCHE VECTORIELLE: Pour chaque article a resumer -&gt; Recherche similarite cosinus -&gt; Top 3 articles similaires&#xa;&#xa;3. INJECTION CONTEXTE: Article original + Top 3 similaires (RAG) -&gt; Prompt LLM -&gt; Grok 4.1 Fast -&gt; Resume enrichi" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="130" y="1330" width="1320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mcp-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=3;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="1460" width="1400" height="220" as="geometry" />
        </mxCell>
        <mxCell id="mcp-label" value="ARCHITECTURE MCP (Model Context Protocol)" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#1565c0;" parent="1" vertex="1">
          <mxGeometry x="100" y="1470" width="600" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="120" y="1520" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="mcp1-title" value="1. APPLICATION" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fillColor=#ffe0b2;" parent="1" vertex="1">
          <mxGeometry x="120" y="1520" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="mcp1-info" value="agents.py&#xa;&#xa;Appelle:&#xa;search_arxiv(keyword)&#xa;&#xa;Utilise:&#xa;arxiv_mcp_client.py" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="130" y="1550" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mcp2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8eaf6;strokeColor=#3f51b5;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="380" y="1520" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="mcp2-title" value="2. CLIENT MCP" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fillColor=#c5cae9;" parent="1" vertex="1">
          <mxGeometry x="380" y="1520" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="mcp2-info" value="arxiv_mcp_client.py&#xa;&#xa;1. Lance serveur MCP&#xa;2. Cree connexion stdio&#xa;3. Envoie requete JSON-RPC&#xa;4. Parse reponse JSON" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="390" y="1550" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mcp3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="640" y="1520" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="mcp3-title" value="3. SERVEUR MCP" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fillColor=#b3e5fc;" parent="1" vertex="1">
          <mxGeometry x="640" y="1520" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="mcp3-info" value="arxiv_server.py&#xa;&#xa;1. Recoit requete JSON-RPC&#xa;2. Valide parametres&#xa;3. Appelle API arXiv&#xa;4. Formate resultats JSON&#xa;5. Retourne via stdio" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="650" y="1550" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mcp4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#6a1b9a;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="900" y="1520" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="mcp4-title" value="4. API arXiv" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fillColor=#e1bee7;" parent="1" vertex="1">
          <mxGeometry x="900" y="1520" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="mcp4-info" value="arxiv.org&#xa;&#xa;Recherche HTTP&#xa;Tri par date&#xa;10 articles max&#xa;Retour XML/JSON" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="910" y="1550" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mcp5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1160" y="1520" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="mcp5-title" value="AVANTAGES MCP" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fillColor=#c8e6c9;" parent="1" vertex="1">
          <mxGeometry x="1160" y="1520" width="280" height="25" as="geometry" />
        </mxCell>
        <mxCell id="mcp5-info" value="+ Standardisation (Anthropic)&#xa;+ Reutilisable (autres apps)&#xa;+ Testable (isolation)&#xa;+ Extensible (autres MCP)&#xa;+ Compatible (Claude, Cursor)&#xa;+ Debugging (logs separes)&#xa;&#xa;Overhead: ~100-200ms" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="1170" y="1550" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mcp-arrow1" value="appel fonction" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#e65100;" parent="1" edge="1">
          <mxGeometry x="-0.1" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="1585" as="sourcePoint" />
            <mxPoint x="380" y="1585" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mcp-arrow2" value="JSON-RPC (stdio)" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#3f51b5;" parent="1" source="mcp2" target="mcp3" edge="1">
          <mxGeometry x="-0.1" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610" y="1585" as="sourcePoint" />
            <mxPoint x="660" y="1535" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mcp-arrow3" value="HTTP" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#01579b;" parent="1" source="mcp3" target="mcp4" edge="1">
          <mxGeometry x="-0.1" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="1585" as="sourcePoint" />
            <mxPoint x="920" y="1535" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
